//add airbnb user to the databaseParse.Cloud.define("addAirBnbUser", function(request, response) {    Parse.Cloud.useMasterKey();    var User = Parse.Object.extend("Users");        var query = new Parse.Query(User);    query.equalTo("airbnbUid", request.params.airbnbUid);    query.find({        success:function(results) {            if (results.length > 0) {                response.success("AirBnb user already exist")            } else {                var airbnbUser = new User();                airbnbUser.set("airbnbUid", request.params.airbnbUid);                airbnbUser.set("username", request.params.username);                airbnbUser.set("profilePic", request.params.profilePic);                airbnbUser.set("location", request.params.location);                airbnbUser.set("description", request.params.description);                airbnbUser.set("school", request.params.school);                airbnbUser.set("occupation", request.params.occupation);                airbnbUser.set("language", request.params.language);                            airbnbUser.save(null, {                    success:function(airbnbUser) {                       response.success("AirBnb user added");                    },                    error:function(error) {                       response.error("Error adding AirBnb user. Error: " + error.message);                    }                });            }        },        error:function(error) {            response.error("Error prepare adding AirBnb user. Error: " + error.message);        }    });});//Cloud job function that will help change all instant of airbnb to MagpieParse.Cloud.job("changeAirbnbToMagpie", function (request, status) {    Parse.Cloud.useMasterKey();    changeAirbnbToMagpiePage(request.params.page, status);});function changeAirbnbToMagpiePage(page, status) {    var User = Parse.Object.extend("Users");    var query = new Parse.Query(User);    query.descending("objectId");    query.limit(500);    query.skip(500 * page);    query.find ({        success:function(results) {            if (results.length > 0) {                for (var j = 0; j < results.length; j++) {                    var user = results[j];                    var userDescription = user.get("description");                    if (userDescription != undefined) {                        var updatedDescription = userDescription.replace(/airbnb/gi, "Magpie");                        user.set("description", updatedDescription);                    }                }                Parse.Object.saveAll(results, {                    success: function() {                        status.success("finish updated Airbnb to Magpie");                    },                    error: function(error) {                        status.error("fail to update Airbnb to Magpie, Error: " + error.message);                    }                });            }        },        error:function() {            status.error("Error change Airbnb to Magpie");        }    });}